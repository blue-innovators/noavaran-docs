# ุงุฌุฑุง ูุฑูโุงูุฒุงุฑูุง ุดุฑฺฉุช ุจุตูุฑุช ููฺฉุงู
ุฏุฑ ุงู ูุณูุช ุจู ุตูุฑุช ูุฏู ุจู ูุฏู ูุฑู ุงูุฒุงุฑูุง ููุฌูุฏ ุฏุฑ ุดุฑฺฉุช ุฑุง ุจุตูุฑุช ููฺฉุงู ุจุฑ ุฑู ฺฉ ฺฉุงููพูุชุฑ ุฑุงู ุงูุฏุงุฒ ูฺฉูู. ุงู ุงูฺฉุงู ุจู ุชูุณุนู ุฏููุฏฺฏุงู ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุฏูพูุฏูุณ ุฎูุฏ ุจู ูุฑ ฺฉุฏุงู ุงุฒ ุณุฑูุฑูุง ุฌูุช ุฏุฑุงูุช ุณุฑูุณ ูุฏ ูุธุฑ ุฑุง ุญุฐู ฺฉููุฏ.

## ูพุด ูุงุฒูุง
ุจุฑุง ุฑุงู ุงูุฏุงุฒ ูุฑูโุงูุฒุงุฑโูุง ุดุฑฺฉุช ุจุตูุฑุช ููฺฉุงู ุดูุง ุจู ฺฉ ุณุณุชู ฺฉู ูุดุฎุตุงุช ุฒุฑ ุฑุง ุฏุงุดุชู ุจุงุดุฏ ูุงุฒ ุฏุงุฑุฏ:

* ุจุฑ ุฑู ุขู ุฏุงฺฉุฑ ูุตุจ ุดุฏู ุจุงุดุฏ
* ุจุฑ ุฑู ุขู ฺฏุช ูุตุจ ุดุฏู ุจุงุดุฏ
* ุงุฏุชูุฑ ูุชู ุฏุงุดุชู ุจุงุดุฏ
* ุจู ุงูุชุฑูุช ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ
* ูุถุง ฺฉู ุฏุงฺฉุฑ ุฏุฑุขู ูุตุจ ุดุฏู ุงุณุช ุญุฏุงูู 30 ฺฏฺฏ ุธุฑูุช ุฎุงู ุฏุงุดุชู ุจุงุดุฏ
* ุฑู ุณุณุชู ุญุฏุงูู 8 ฺฏฺฏ ุจุงุดุฏ

## ุฑุงู ุงูุฏุงุฒ ุจุฑุง ุจุงุฑ ุงูู
ุฑุงู ุงูุฏุงุฒ ูุฑู ุงูุฒุงุฑูุง ุดุฑฺฉุช ุจุตูุฑุช ููฺฉุงู ุชูุงูุชโูุง ุจุง ุฏูุนุงุช ุจุนุฏ ุฏุงุฑุฏ. ุงูุง ุนูุช ุงู ุชูุงูุช ฺุณุชุ

* ุงุญุฑุงุฒ ููุช ุฑูพุงุฒุชูุฑโูุง ุฏุงฺฉุฑ
* ูุตุจ ฺฉุฑุฏู certificate ููุฑุฏ ูุงุฒ ุจุฑุง ุฑุงู ุงูุฏุงุฒ ssl ููฺฉุงู
* ุณุงุฎุช network ููุฑุฏ ูุงุฒ container ูุง
* ุงุฌุงุฏ ูุงู env
* ุงุฌุงุฏ ุฏุชุงุจุณโูุง ุณุฑูุณ ุฒุฑุณุงุฎุช
* ุฏุฑุฌ ุฏุชุง ฺฉู ูพููโูุง ููุฑุฏ ูุงุฒ ุฌูุช ูพุฑุฏุงุฎุช
* ุขูพููุฏ ุนฺฉุณโูุง ููุฑุฏ ูุงุฒ ุฏุฑ ุณุฑูุฑ ุงุณุชุงุชฺฉ ููฺฉุงู

ุงูโูุง ุชูุงู ฺฉุงุฑูุง ูุณุชูุฏ ฺฉู ุฏุฑ ุฏูุนุงุช ุจุนุฏ ูุงุฒ ุจู ุงูุฌุงู ุขูโูุง ููโุจุงุดุฏ. ุฏุฑ ุงุฏุงูู ุชูุงู ููุงุฑุฏ ุฑุง ุจุง ูู ุจุฑุฑุณ ูฺฉูู.

ุจุฑุง ุฑุงู ุงูุฏุงุฒ ูุฑู ุงูุฒุงุฑูุง ุดุฑฺฉุช ุจุตูุฑุช ููฺฉุงู ุจู ุชุฑุชุจ ุฒุฑ ุนูู ูฺฉูู : 

### 1. Clone ฺฉุฑุฏู ูพุฑูฺู Docker Deploy
ุฏุฑ ุงุจุชุฏุง ฺฉ ูพูุดู ุจุฑุง ฺฏุฑูุชู ุณูุฑุณ ฺฉุฏ ูพุฑูฺู docker deploy ุงุฌุงุฏ ูฺฉูู. ุณูพุณ ุงุฒ ุขุฏุฑุณ ุฒุฑ ูพุฑูฺู ุฑุง ุฏุฑ ูพูุดู ุงุฌุงุฏ ุดุฏู clone ููุงุฏ:
```
http://tfs.bidev.ir/DefaultCollection/Deployment/_git/deploy-docker
```

### 2. Checkout ฺฉุฑุฏู ุจู ุจุฑูฺ local-dev
ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ุณูุฑุณ ฺฉุฏ ุจู ููุธูุฑ ุฑุงู ุงูุฏุงุฒ ุณุฑูุณโูุง ุจู ุตูุฑุช ููฺฉุงู ุจู ุจุฑูฺ local-dev ุจุฑูุฏ.

### 3. ูุตุจ ฺฉุฑุฏู ูุงู certificate
ุจุฑุง ุฑุงู ุงูุฏุงุฒ ุงุฑุชุจุงุท ssl ุจุตูุฑุช ููฺฉุงู ูุงุฒู ุงุณุช ฺฉู ฺฉ certificate ุฑุง ุจุฑ ุฑู ุณุณุชู ุฎูุฏ trust ฺฉูุฏ. ูุงู ูุตุจ certificate ูุฑุจูุทู ุฏุฑ ุณูุฑุณ ฺฉุฏ ูพุฑูฺู ฺฏุฐุงุดุชู ุดุฏู ุงุณุช. ุจู ุงู ุดฺฉู :

![Install Certificate](/assets/images/install-certificate.png)

ูฺฉุชู ุญุงุฆุฒ ุงููุช ุฏุฑ ูุตุจ ุงู certificate ูุฑุงุฑ ุฏุงุฏู ุขู ุฏุฑ Trusted root authorities ู ุจุงุดุฏ.

### 4. ุณุงุฎุช ูุงู .env
ุฏุฑ ุณูุฑุณ ฺฉุฏ ฺฉ ูุงู .env.sample ฺฏุฐุงุดุชู ุดุฏู ุงุณุช. ุขู ุฑุง ฺฉูพ ฺฉุฑุฏู ู ูุงูุด ุฑุง ุจู .env ุชุบุฑ ุฏูุฏ.

### 5. ุงุถุงูู ฺฉุฑุฏู ุฏุงููโูุง ููุฑุฏ ูุงุฒ ุจู ูุงู host
ุญุงู ูุงุฒู ุงุณุช ฺฉู ุฏุฑ ูุงู host ุณุณุชู ุชูุงู ุฏุงููโูุง ููุฑุฏ ูุงุฒ ุฑุง ูุงุฑุฏ ฺฉูู ุชุง ุจุชูุงูู ุขุฏุฑุณ ูุง ููุฑุฏ ูุงุฒูุงู ุฑุง ุจุตูุฑุช ููฺฉุงู ุฏุฑ ูุฑูุฑฺฏุฑ ุณุณุชู ุฎูุฏ ุจุจูู
ุขุฏุฑุณ ูุง ุฑุง ุจู ุดฺฉู ุฒุฑ ุชูุงูุงู ุจู IP ููฺฉุงู ููพ ูฺฉูู:

```
127.0.0.1	static.local.dev
127.0.0.1	demo.local.dev
127.0.0.1	admin.local.dev
127.0.0.1	parsa.local.dev
127.0.0.1	auth.local.dev
127.0.0.1	payment.local.dev
127.0.0.1	credits.local.dev
127.0.0.1	market.local.dev
127.0.0.1	restora.local.dev
```

### 6. ูุงฺฏู ฺฉุฑุฏู ุฑู ุฑูพุงุฒุชูุฑโูุง dcr ู dreg ุฏุงฺฉุฑ
 ูุฏู ุจุนุฏ ูุงฺฏู ฺฉุฑุฏู ุจุฑุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจู ุฑูพุงุฒุชูุฑโูุง ุฏุงุฎู ุฏุงฺฉุฑ ุดุฑฺฉุช ูโุจุงุดุฏ. ุจุฑุง ููุธูุฑ ุฏุฑ terminal ุณุณุชู ุฎูุฏ ุฏู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ :

```
docker login dcr.bidev.ir -u developer -p 123
docker login dreg.bidev.ir -u developer -p 123
```

### 7. ุงุฌุงุฏ ุดุจฺฉู appnet
ุญุงู ุจุงุณุช ุดุจฺฉู ุง ุจุง ูุงู appnet ุงุฌุงุฏ ฺฉูู ุฒุฑุง ฺฉู ุชูุงู ุณุฑูุณโูุง ูุง ุจุฑ ุฑู ุงู ุดุจฺฉู ุจุง ฺฉุฏฺฏุฑ ุฏุฑ ุงุฑุชุจุงุท ุฎูุงููุฏ ุจูุฏ. ุจุฑุง ุงุฌุงุฏ ุงู ุดุจฺฉู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ terminal ุงุฌุฑุง ููุงุฏ :

```
docker network create --driver=bridge --subnet=192.168.254.0/26 --gateway=192.168.254.1 appnet
```

### 7. ุฑุงู ุงูุฏุงุฒ Infrastructure
ุฎุจ ุญุงูุง ูุฎูุงูู ุงููู ุณุฑูุณโูุง ููุฑุฏ ูุงุฒูุงู ุฑุง ุฑุงู ุงูุฏุงุฒ ฺฉูู. Infrastructure ุดุงูู ุชูุงู ุณุฑูุณ ูุง ุฒุฑ ุณุงุฎุช ูุจุงุดุฏ ฺฉู ููุฑุฏ ุงุณุชูุงุฏู ูุฑู ุงูุฒุงุฑ ุฏุงุฎู ุดุฑฺฉุช ู ุจุงุดูุฏ. ูุณุช ุณุฑูุณ ุจู ุดฺฉู ุฒุฑ ุงุณุช:

* mssql
* seq
* rabittmq
* redis
* minio

ุจุฑุง ุงุฌุฑุง ุงู ุฏุณุชูุฑ ุงุจุชุฏุง ุจู ูุณุฑ root ูพุฑูฺู docker-deploy ุจุฑูุฏ ู ุฏุฑ ุขูุฌุง terminal ุฑ ุจุงุฒ ฺฉุฑุฏู ู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ููุงุฏ :

```
docker-compose -f .\docker-compose.infrastructure.yml up -d
```

### 8. ฺฉู ุตุจุฑุ ุงูุง ฺุฑุงุ

### 9. ุงู ูุณูุช ูุฑุจูุท ุจู mssql ุจุฑุง ูููฺฉุณ ูุงุณุช - ุงฺฏุฑ ููุฏูุฒ ูุณุชุฏ ูุฎูุงูุฏ ๐

### 10. ุขูพููุฏ ฺฉุฑุฏู ุนฺฉุณโูุง ููุฑุฏ ูุงุฒ ุฏุฑ ุณุฑูุฑ minio

### 11. ุงุฌุฑุง ุงุณฺฉุฑูพุชโูุง ุณุงุฎุช ุฏุชุงุจุณโูุง ููุฑุฏ ูุงุฒ ุณุฑูุณโูุง ุฒุฑุณุงุฎุช

### 12. ุฑุงู ุงูุฏุงุฒ Common

### 13. ุฑุงู ุงูุฏุงุฒ Gateway

### 14. ุงุฌุงุฏ ุฏุชุง ููุฑุฏ ูุงุฒ ุจุฑุง wallet ูุง ุจุง api call

### 15. ุฑุงู ุงูุฏุงุฒ Parsa

### 16. ุฑุงู ุงูุฏุงุฒ Restora

## ุฑุงู ุงูุฏุงุฒ ุจุฑุง ุฏูุนุงุช ุจุนุฏ
## ุชูุณุนู ุฏุฑ ุขูุฏู ุ
